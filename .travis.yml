language: cpp

compiler:
  - clang
  - gcc

install:
  - if [ "$CXX" == "g++" ]; then
        sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
        sudo apt-get update -qq
        sudo apt-get install -qq gcc-4.8 g++-4.8
        sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90

  - wget http://www.cmake.org/files/v3.2/cmake-3.2.1-Linux-i386.tar.gz \
        && tar -xvf cmake-3.2.1-Linux-i386.tar.gz \
        && sudo cp -fR cmake-3.2.1-Linux-i386/* /usr

before_script:
  - git submodule update --init --recursive
  - cd build
  - cmake ..

script: make